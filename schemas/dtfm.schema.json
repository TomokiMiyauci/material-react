{
  "$id": "dtmt@0.1.0",
  "type": "object",
  "oneOf": [
    { "$ref": "#/definitions/number" },
    { "$ref": "#/definitions/token" },
    { "$ref": "#/definitions/dimension" },
    { "$ref": "#/definitions/typography" },
    { "$ref": "#/definitions/fontFamily" },
    { "$ref": "#/definitions/fontWeight" },
    { "$ref": "./dtcm.schema.json" },
    { "$ref": "#/definitions/reference" },
    {
      "type": "object",
      "minProperties": 1,
      "additionalProperties": { "$ref": "#" }
    }
  ],

  "definitions": {
    "number": {
      "type": "object",
      "properties": {
        "$type": { "const": "number" },
        "$value": { "type": "number" },
        "$description": { "type": "string" },
        "$extensions": { "type": "object" }
      },
      "required": ["$type", "$value"],
      "additionalProperties": false
    },
    "token": {
      "type": "object",
      "properties": {
        "$type": { "const": "token" },
        "$value": { "type": "string" },
        "$description": { "type": "string" },
        "$extensions": { "type": "object" }
      },
      "required": ["$type", "$value"],
      "additionalProperties": false
    },
    "dimension": {
      "type": "object",
      "properties": {
        "$type": { "const": "dimension" },
        "$value": { "$ref": "#/definitions/dimension-value" },
        "$description": { "type": "string" },
        "$extensions": { "type": "object" }
      },
      "required": ["$type", "$value"],
      "additionalProperties": false
    },
    "typography": {
      "type": "object",
      "properties": {
        "$type": { "const": "typography/token" },
        "$value": {
          "type": "object",
          "properties": {
            "fontFamily": { "type": "string" },
            "fontSize": { "type": "string" },
            "fontWeight": { "type": "string" },
            "letterSpacing": { "type": "string" },
            "lineHeight": { "type": "string" }
          },
          "required": [
            "fontFamily",
            "fontSize",
            "fontWeight",
            "letterSpacing",
            "lineHeight"
          ],
          "additionalProperties": false
        }
      },
      "required": ["$type", "$value"],
      "additionalProperties": false
    },
    "dimension-value": {
      "type": "object",
      "properties": {
        "value": { "type": "number" },
        "unit": { "enum": ["px", "rem", "dp"] }
      },
      "required": ["value", "unit"]
    },
    "fontFamily": {
      "type": "object",
      "properties": {
        "$type": { "const": "fontFamily" },
        "$value": { "type": "string" },
        "$description": { "type": "string" },
        "$extensions": { "type": "object" }
      },
      "required": ["$type", "$value"],
      "additionalProperties": false
    },
    "fontWeight": {
      "type": "object",
      "properties": {
        "$type": { "const": "fontWeight" },
        "$value": {
          "type": "integer",
          "minimum": 1,
          "maximum": 1000
        },
        "$description": { "type": "string" },
        "$extensions": { "type": "object" }
      },
      "required": ["$type", "$value"],
      "additionalProperties": false
    },
    "reference": {
      "type": "object",
      "properties": {
        "$value": { "type": "string", "pattern": "^{.*}$" },
        "$description": { "type": "string" },
        "$extensions": { "type": "object" }
      },
      "required": ["$value"],
      "additionalProperties": false
    }
  }
}
