{
  "$id": "schemas/dtcm.schema.json",
  "$description": "Design Tokens Color Module",
  "type": "object",
  "properties": {
    "$type": { "const": "color" },
    "$value": {
      "type": "object",
      "properties": {
        "colorSpace": { "enum": ["srgb", "srgb-linear", "hsl", "hwb", "lab"] },
        "components": {
          "type": "array",
          "items": [
            { "oneOf": [{ "type": "number" }, { "const": "none" }] },
            { "oneOf": [{ "type": "number" }, { "const": "none" }] },
            { "oneOf": [{ "type": "number" }, { "const": "none" }] }
          ],
          "minItems": 3,
          "maxItems": 3
        },
        "alpha": {
          "type": "number",
          "minimum": 0,
          "maximum": 1
        },
        "hex": {
          "$ref": "#/$defs/hex"
        }
      },
      "required": ["colorSpace", "components"]
    },
    "$description": { "type": "string" }
  },
  "required": ["$type", "$value"],
  "additionalProperties": false,

  "$defs": {
    "hex": {
      "type": "string",
      "pattern": "^#([0-9a-fA-F]{6})$"
    }
  }
}
